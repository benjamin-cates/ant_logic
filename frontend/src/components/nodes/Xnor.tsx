import { Handle, Position } from "reactflow";

import { handleStyles } from "../../utils/handles";
import { useActiveNodes } from "../../utils/state";

const Xnor = ({ id }: { id: string }) => {
  const activeNodes = useActiveNodes((state) => state.activeNodes);

  return (
    <>
      <svg
        width="160"
        height="68"
        viewBox="0 0 160 68"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M43.6 2.46301L88.0874 6.35177L107.22 22.6845L114.22 30.6176L124.37 27.4288L128.297 35.4397L124.389 41.7783L114.259 37.0729L103.642 51.928L81.0877 64.5276L42.9778 65.6164L51.6887 41.6617L51.0665 20.3513L43.6 2.46301Z"
          fill={activeNodes.includes(id) ? "#F3E597" : "#EEEEEE"}
          style={{
            transition: "fill 0.3s ease",
          }}
        />
        <path
          d="M127.652 34.1564H155.728M46.8786 17.3103H4.11359M48.5234 51.0025H4.11359"
          stroke="#C0C0C0"
          strokeWidth="3.36922"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M36.5423 62.7947C33.8514 67.2495 32.7519 67.8485 32.7519 67.8485H26.5926L29.9618 63.7423C29.9618 63.7423 39.4904 51.95 39.4904 34.1564C39.4904 16.3628 29.9618 4.57041 29.9618 4.57041L26.5926 0.464172H32.7519C34.068 2.04349 35.1472 3.25431 36.4897 5.518C39.6445 10.74 44.5442 20.7244 44.5442 34.1564C44.5442 47.5501 39.6644 57.5378 36.5423 62.7947Z"
          fill="#C0C0C0"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M36.2791 0.464172L39.6483 4.57041C39.6483 4.57041 49.1769 16.3628 49.1769 34.1564C49.1769 51.95 39.6483 63.7423 39.6483 63.7423L36.2791 67.8485H65.1807C69.2374 67.8485 78.1348 67.8898 88.1335 63.7949C98.1322 59.7001 109.253 51.4244 117.93 35.3672L115.719 34.1564L117.93 32.9455C100.573 0.827356 73.1937 0.464172 65.1807 0.464172H36.2791ZM46.1762 5.518H65.1807C73.0717 5.518 95.9869 5.29865 112.297 34.1564C104.267 48.3561 94.5729 55.5238 85.8172 59.1096C76.7865 62.8081 69.2374 62.7947 65.1807 62.7947H46.2288C49.3851 57.5582 54.2307 47.5501 54.2307 34.1564C54.2307 20.7244 49.331 10.74 46.1762 5.518Z"
          fill="#C0C0C0"
        />
        <path
          d="M128.775 34.1564C128.775 35.9435 128.065 37.6575 126.801 38.9212C125.537 40.1849 123.823 40.8948 122.036 40.8948C120.249 40.8948 118.535 40.1849 117.271 38.9212C116.008 37.6575 115.298 35.9435 115.298 34.1564C115.298 32.3693 116.008 30.6553 117.271 29.3916C118.535 28.1279 120.249 27.418 122.036 27.418C123.823 27.418 125.537 28.1279 126.801 29.3916C128.065 30.6553 128.775 32.3693 128.775 34.1564Z"
          stroke="#C0C0C0"
          strokeWidth="5.05383"
        />
        <rect
          x="0.744385"
          y="13.941"
          width="6.73844"
          height="6.73844"
          fill="#B2B2B2"
        />
        <rect
          x="0.744385"
          y="47.6332"
          width="6.73844"
          height="6.73844"
          fill="#B2B2B2"
        />
        <rect
          x="152.359"
          y="30.7871"
          width="6.73844"
          height="6.73844"
          fill="#B2B2B2"
        />
        <path
          d="M65.1638 41.0486L61.5082 35.759L56.825 29.2564H59.1329L62.7043 34.4787L67.4718 41.0486H65.1638ZM56.7408 41.0486L61.2387 34.6303L62.3674 35.9611L58.8802 41.0486H56.7408ZM62.9738 35.5737L61.862 34.2934L65.1638 29.2564H67.3033L62.9738 35.5737ZM69.5197 41.0486V29.2564H71.1538L78.3639 38.9092L78.0944 39.0608C78.0495 38.78 78.0102 38.4768 77.9765 38.1511C77.9428 37.8142 77.9091 37.4604 77.8754 37.0898C77.8529 36.708 77.8305 36.3093 77.808 35.8937C77.7968 35.467 77.7856 35.0234 77.7743 34.5629C77.7631 34.1024 77.7575 33.6251 77.7575 33.131V29.2564H79.5769V41.0486H77.9091L70.8169 31.7496L71.0022 31.5138C71.0583 32.1988 71.1033 32.7828 71.137 33.2658C71.1819 33.7374 71.2156 34.1417 71.238 34.4787C71.2717 34.8044 71.2942 35.0739 71.3054 35.2873C71.3167 35.4894 71.3223 35.6579 71.3223 35.7927C71.3335 35.9274 71.3391 36.0454 71.3391 36.1464V41.0486H69.5197ZM87.8141 41.2171C86.983 41.2171 86.2137 41.0655 85.5062 40.7623C84.8098 40.459 84.1978 40.0379 83.6699 39.4988C83.1533 38.9485 82.749 38.3083 82.457 37.5783C82.1762 36.8371 82.0359 36.0285 82.0359 35.1525C82.0359 34.2765 82.1762 33.4735 82.457 32.7435C82.749 32.0023 83.1533 31.3621 83.6699 30.8231C84.1978 30.2728 84.8098 29.846 85.5062 29.5428C86.2137 29.2395 86.983 29.0879 87.8141 29.0879C88.6451 29.0879 89.4088 29.2395 90.1051 29.5428C90.8127 29.846 91.4247 30.2728 91.9414 30.8231C92.4692 31.3734 92.8735 32.0191 93.1543 32.7604C93.4463 33.4904 93.5923 34.2877 93.5923 35.1525C93.5923 36.0173 93.4463 36.8203 93.1543 37.5615C92.8735 38.2915 92.4692 38.9317 91.9414 39.482C91.4247 40.0323 90.8127 40.459 90.1051 40.7623C89.4088 41.0655 88.6451 41.2171 87.8141 41.2171ZM87.8141 39.4483C88.3868 39.4483 88.9091 39.3416 89.3808 39.1282C89.8637 38.9148 90.2792 38.6172 90.6274 38.2353C90.9755 37.8423 91.2451 37.3874 91.436 36.8708C91.6381 36.343 91.7392 35.7702 91.7392 35.1525C91.7392 34.5348 91.6381 33.9677 91.436 33.4511C91.2451 32.9232 90.9755 32.4684 90.6274 32.0865C90.2792 31.6934 89.8637 31.3902 89.3808 31.1768C88.9091 30.9635 88.3868 30.8568 87.8141 30.8568C87.2413 30.8568 86.7135 30.9635 86.2305 31.1768C85.7588 31.3902 85.3433 31.6878 84.9839 32.0697C84.6358 32.4515 84.3662 32.9064 84.1753 33.4342C83.9844 33.9508 83.8889 34.5236 83.8889 35.1525C83.8889 35.7702 83.9844 36.343 84.1753 36.8708C84.3662 37.3987 84.6358 37.8535 84.9839 38.2353C85.3433 38.6172 85.7588 38.9148 86.2305 39.1282C86.7135 39.3416 87.2413 39.4483 87.8141 39.4483ZM96.0556 41.0486V29.2564H101.076C101.75 29.2564 102.367 29.4248 102.929 29.7618C103.502 30.0875 103.956 30.5367 104.293 31.1095C104.63 31.671 104.799 32.3055 104.799 33.0131C104.799 33.6532 104.63 34.2484 104.293 34.7987C103.956 35.3491 103.507 35.7927 102.946 36.1296C102.384 36.4553 101.761 36.6181 101.076 36.6181H97.875V41.0486H96.0556ZM103.064 41.0486L100.065 35.7253L101.935 35.3041L105.27 41.0655L103.064 41.0486ZM97.875 34.8661H101.244C101.57 34.8661 101.862 34.7875 102.12 34.6303C102.379 34.4618 102.581 34.2372 102.727 33.9564C102.873 33.6644 102.946 33.3444 102.946 32.9962C102.946 32.6031 102.85 32.2606 102.659 31.9686C102.48 31.6654 102.221 31.4295 101.884 31.2611C101.559 31.0926 101.188 31.0084 100.773 31.0084H97.875V34.8661Z"
          fill="#C0C0C0"
        />
      </svg>

      <Handle
        type="target"
        position={Position.Left}
        style={{
          left: -6,
          top: 17,
          ...handleStyles,
        }}
        id="xnor_in_1"
      />
      <Handle
        type="target"
        position={Position.Left}
        style={{
          left: -6,
          top: 50.5,
          ...handleStyles,
        }}
        id="xnor_in_2"
      />
      <Handle
        type="source"
        position={Position.Right}
        style={{
          top: 33.5,
          right: -6,
          ...handleStyles,
        }}
        id="xnor_out_1"
      />
    </>
  );
};

export default Xnor;
