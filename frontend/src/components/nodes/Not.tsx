import { Handle, Position } from "reactflow";

import { handleStyles } from "../../utils/handles";
import { useActiveNodes } from "../../utils/state";

const Not = ({ id }: { id: string }) => {
  const activeNodes = useActiveNodes((state) => state.activeNodes);

  return (
    <>
      <svg
        width="159"
        height="77"
        viewBox="0 0 159 77"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M47.4204 5.75934L114.618 38.1138L120.218 31.2696L129.706 38.1138L121.929 46.2024L113.218 39.5137L47.4204 71.7126V5.75934Z"
          fill={activeNodes.includes(id) ? "#F3E597" : "#EEEEEE"}
          style={{
            transition: "fill 0.3s ease",
          }}
        />
        <path
          d="M128.348 38.386H155.038M43.9268 38.386H3.49622"
          stroke="#C0C0C0"
          strokeWidth="3.36922"
        />
        <path
          d="M43.801 0.640228V76.1318L47.4335 74.3419L116.555 40.6497V36.1223L47.4335 2.43013L43.801 0.640228ZM48.8549 8.74741L109.711 38.386L48.8549 68.0246V8.74741Z"
          fill="#C0C0C0"
        />
        <path
          d="M128.084 38.386C128.084 40.1731 127.374 41.8871 126.11 43.1508C124.847 44.4145 123.133 45.1244 121.346 45.1244C119.559 45.1244 117.845 44.4145 116.581 43.1508C115.317 41.8871 114.607 40.1731 114.607 38.386C114.607 36.5988 115.317 34.8849 116.581 33.6212C117.845 32.3575 119.559 31.6476 121.346 31.6476C123.133 31.6476 124.847 32.3575 126.11 33.6212C127.374 34.8849 128.084 36.5988 128.084 38.386Z"
          stroke="#C0C0C0"
          strokeWidth="5.05383"
        />
        <rect
          x="0.053833"
          y="35.0168"
          width="6.73844"
          height="6.73844"
          fill="#B2B2B2"
        />
        <rect
          x="151.669"
          y="35.0168"
          width="6.73844"
          height="6.73844"
          fill="#B2B2B2"
        />
        <path
          d="M53.9277 43.5938V31.8015H55.5617L62.7718 41.4543L62.5023 41.6059C62.4574 41.3251 62.4181 41.0219 62.3844 40.6962C62.3507 40.3593 62.317 40.0055 62.2833 39.6349C62.2609 39.2531 62.2384 38.8544 62.2159 38.4388C62.2047 38.0121 62.1935 37.5685 62.1822 37.108C62.171 36.6475 62.1654 36.1702 62.1654 35.6761V31.8015H63.9848V43.5938H62.317L55.2248 34.2947L55.4101 34.0589C55.4663 34.7439 55.5112 35.3279 55.5449 35.8109C55.5898 36.2825 55.6235 36.6869 55.646 37.0238C55.6796 37.3495 55.7021 37.619 55.7133 37.8324C55.7246 38.0345 55.7302 38.203 55.7302 38.3378C55.7414 38.4725 55.747 38.5905 55.747 38.6915V43.5938H53.9277ZM72.222 43.7622C71.3909 43.7622 70.6216 43.6106 69.9141 43.3074C69.2178 43.0041 68.6057 42.583 68.0778 42.0439C67.5612 41.4936 67.1569 40.8535 66.8649 40.1235C66.5842 39.3822 66.4438 38.5736 66.4438 37.6976C66.4438 36.8216 66.5842 36.0186 66.8649 35.2886C67.1569 34.5474 67.5612 33.9072 68.0778 33.3682C68.6057 32.8179 69.2178 32.3911 69.9141 32.0879C70.6216 31.7846 71.3909 31.633 72.222 31.633C73.0531 31.633 73.8167 31.7846 74.513 32.0879C75.2206 32.3911 75.8327 32.8179 76.3493 33.3682C76.8771 33.9185 77.2814 34.5642 77.5622 35.3055C77.8542 36.0355 78.0002 36.8329 78.0002 37.6976C78.0002 38.5624 77.8542 39.3654 77.5622 40.1066C77.2814 40.8366 76.8771 41.4768 76.3493 42.0271C75.8327 42.5774 75.2206 43.0041 74.513 43.3074C73.8167 43.6106 73.0531 43.7622 72.222 43.7622ZM72.222 41.9934C72.7947 41.9934 73.317 41.8867 73.7887 41.6733C74.2716 41.4599 74.6871 41.1623 75.0353 40.7805C75.3834 40.3874 75.653 39.9325 75.8439 39.4159C76.046 38.8881 76.1471 38.3153 76.1471 37.6976C76.1471 37.0799 76.046 36.5128 75.8439 35.9962C75.653 35.4683 75.3834 35.0135 75.0353 34.6316C74.6871 34.2386 74.2716 33.9353 73.7887 33.7219C73.317 33.5086 72.7947 33.4019 72.222 33.4019C71.6492 33.4019 71.1214 33.5086 70.6384 33.7219C70.1668 33.9353 69.7512 34.2329 69.3918 34.6148C69.0437 34.9966 68.7741 35.4515 68.5832 35.9793C68.3923 36.4959 68.2968 37.0687 68.2968 37.6976C68.2968 38.3153 68.3923 38.8881 68.5832 39.4159C68.7741 39.9438 69.0437 40.3986 69.3918 40.7805C69.7512 41.1623 70.1668 41.4599 70.6384 41.6733C71.1214 41.8867 71.6492 41.9934 72.222 41.9934ZM82.1941 43.5938V33.5535H78.8922V31.8015H87.4164V33.5535H84.0135V43.5938H82.1941Z"
          fill="#C0C0C0"
        />
      </svg>

      <Handle
        type="target"
        position={Position.Left}
        style={{
          left: -6,
          top: 38,
          ...handleStyles,
        }}
        id="not_in_1"
      />
      <Handle
        type="source"
        position={Position.Right}
        style={{
          top: 38,
          right: -6,
          ...handleStyles,
        }}
        id="not_out_1"
      />
    </>
  );
};

export default Not;
